---
title: "textmodel-wordfish benchmarks"
date: "27/03/2017"
output: html_document
---

### Test: quanteda::textmodel-wordfish 

To test the performance of calculation applying on dense dfm matrix versus on sparse dfm matrix versus using multi-thread (on sparse dfm)

```{r}
require(quanteda, quietly = TRUE, warn.conflicts = FALSE)
ie2010dfm <- dfm(data_corpus_irishbudget2010, verbose = FALSE)
microbenchmark::microbenchmark(
    wfm_mt = textmodel_wordfish(ie2010dfm, dir = c(6,5), mt = TRUE), 
    wfm_sparse = textmodel_wordfish(ie2010dfm, dir = c(6,5),  mt = FALSE), 
    wfm_dense = textmodel_wordfish(ie2010dfm, dir = c(6,5), sparse = FALSE),
    times=20, unit = 'relative')
```


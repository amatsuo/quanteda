<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>correspondence analysis of a document-feature matrix — textmodel_ca • quanteda</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">quanteda</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>correspondence analysis of a document-feature matrix</h1>
    </div>

    
    <p><code>textmodel_ca</code> implements correspondence analysis scaling on a 
<a href='dfm.html'>dfm</a>.  The method is a fast/sparse version of function <a href='http://www.rdocumentation.org/packages/ca/topics/ca'>ca</a>, and
returns a special class of <span class="pkg">ca</span> object.</p>
    

    <pre class="usage"><span class='fu'>textmodel_ca</span>(<span class='no'>x</span>, <span class='kw'>smooth</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>nd</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>sparse</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>threads</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>residual_floor</span> <span class='kw'>=</span> <span class='fl'>0.1</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>the dfm on which the model will be fit</p></td>
    </tr>
    <tr>
      <th>smooth</th>
      <td><p>a smoothing parameter for word counts; defaults to zero.</p></td>
    </tr>
    <tr>
      <th>nd</th>
      <td><p>Number of dimensions to be included in output; if <code>NA</code> (the 
default) then the maximum possible dimensions are included.</p></td>
    </tr>
    <tr>
      <th>sparse</th>
      <td><p>retains the sparsity if set to <code>TRUE</code>; set it to 
<code>TRUE</code> if <code>x</code> (the <a href='dfm.html'>dfm</a>) is too big to be allocated after
converting to dense</p></td>
    </tr>
    <tr>
      <th>threads</th>
      <td><p>the number of threads to be used; set to 1 to use a 
serial version of the function; only applicable when <code>sparse = TRUE</code></p></td>
    </tr>
    <tr>
      <th>residual_floor</th>
      <td><p>specifies the threshold for the residual matrix for 
calculating the truncated svd.Larger value will reduce memory and time cost
but might sacrify the accuracy; only applicable when <code>sparse = TRUE</code></p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><a href='http://www.rdocumentation.org/packages/RSpectra/topics/svds'>svds</a> in the <span class="pkg">RSpectra</span> package is applied to 
  enable the fast computation of the SVD.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Setting threads larger than 1 (when <code>sparse = TRUE</code>) will trigger 
  parallel computation, which retains sparsity of all involved matrices. You 
  may need to increase the value of <code>residual_floor</code> to ignore less 
  important information and hence to reduce the memory cost when you have a 
  very big <a href='dfm.html'>dfm</a>.
    If your attempt to fit the model fails due to the matrix being too large, 
  this is probably because of the memory demands of computing the \(V
  \times V\) residual matrix.  To avoid this, consider increasing the value of
  <code>residual_floor</code> by 0.1, until the model can be fit.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Nenadic, O. and Greenacre, M. (2007). Correspondence analysis in 
  R, with two- and three-dimensional graphics: The ca package. <em>Journal 
  of Statistical Software</em>, 20 (3), <a href = 'http://www.jstatsoft.org/v20/i03/'>http://www.jstatsoft.org/v20/i03/</a>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>ieDfm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='dfm.html'>dfm</a></span>(<span class='no'>data_corpus_irishbudget2010</span>)
<span class='no'>wca</span> <span class='kw'>&lt;-</span> <span class='fu'>textmodel_ca</span>(<span class='no'>ieDfm</span>)
<span class='fu'>summary</span>(<span class='no'>wca</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: abbreviate used with non-ASCII chars</span></div><div class='output co'>#&gt; <span class='warning'>Warning: abbreviate used with non-ASCII chars</span></div><div class='output co'>#&gt; <span class='warning'>Warning: some row.names duplicated: 25,187,198,365,371,485,942,944,1109,1166,1231,1243,1610,1642,1717,1825,1877,1918,1962,2003,2024,2401,2784,2785,2804,2807,2810,2975,3021,3069,3216,3277,3364,3624,3687,3743,3762,3837,3964,4168,4205,4259,4276,4304,4395,4422,4552,4569,4647,4666,4838,4948,4955,4958,4962,4966,4968 --&gt; row.names NOT used</span></div><div class='output co'>#&gt; 
#&gt; Principal inertias (eigenvalues):
#&gt; 
#&gt;  dim    value      %   cum%   scree plot               
#&gt;  1      0.185190  19.5  19.5  *****                    
#&gt;  2      0.139466  14.7  34.2  ****                     
#&gt;  3      0.134072  14.1  48.3  ****                     
#&gt;  4      0.127248  13.4  61.6  ***                      
#&gt;  5      0.125848  13.2  74.9  ***                      
#&gt;  6      0.121379  12.8  87.6  ***                      
#&gt;  7      0.117471  12.4 100.0  ***                      
#&gt;         -------- -----                                 
#&gt;  Total: 0.950673 100.0                                 
#&gt; 
#&gt; 
#&gt; Rows:
#&gt;                name   mass  qlt  inr    k=1 cor ctr    k=2 cor ctr    k=3 cor
#&gt; 1  | 2010_BUDGET_01 |  159 1000   78 |  676 852 392 | -162  49  30 |  -14   0
#&gt; 2  | 2010_BUDGET_02 |   82 1000   76 | -335  84  50 |  407 124  97 |  541 220
#&gt; 3  | 2010_BUDGET_03 |  117 1000   80 | -413 162 108 | -904 776 688 |  194  36
#&gt; 4  | 2010_BUDGET_04 |  131 1000   63 | -150 136  16 |   86  45   7 | -324 631
#&gt; 5  | 2010_BUDGET_05 |  121 1000   74 |  633 903 262 |   48   5   2 |  142  46
#&gt; 6  | 2010_BUDGET_06 |   78 1000   73 | -345  88  50 |   94   7   5 |   91   6
#&gt; 7  | 2010_BUDGET_07 |   42 1000   64 | -266 440  16 |  115  83   4 |   27   5
#&gt; 8  | 2010_BUDGET_08 |   77 1000   74 | -277  54  32 |  207  30  24 | -174  21
#&gt; 9  | 2010_BUDGET_09 |   24 1000   75 | -478  82  29 |  509  93  44 |   96   3
#&gt; 10 | 2010_BUDGET_10 |   24 1000   75 | -442  53  25 |  251  17  11 |  215  13
#&gt; 11 | 2010_BUDGET_11 |   19 1000   54 |  292 412   9 |  154 115   3 |  -33   5
#&gt; 12 | 2010_BUDGET_12 |   30 1000   66 |  -82  13   1 |  357 250  28 |  513 516
#&gt; 13 | 2010_BUDGET_13 |   23 1000   74 |   59   1   0 |  553  90  50 |  633 118
#&gt; 14 | 2010_BUDGET_14 |   74 1000   74 | -161  22  10 |  124  13   8 | -958 779
#&gt;    ctr     k=4 cor ctr    k=5 cor ctr     k=6 cor ctr     k=7 cor ctr  
#&gt; 1    0 |   -28   1   1 | -121  27  18 |    71   9   7 |  -181  61  44 |
#&gt; 2  179 |   812 494 423 | -169  21  19 |    35   1   1 |  -269  54  50 |
#&gt; 3   33 |    79   6   6 |  115  12  12 |   -90   8   8 |   -15   0   0 |
#&gt; 4  102 |    77  36   6 |  -95  55   9 |  -112  76  14 |    61  23   4 |
#&gt; 5   18 |   -23   1   1 |  110  27  12 |    12   0   0 |    89  18   8 |
#&gt; 6    5 |  -433 138 114 | -720 383 320 |   495 182 157 |   515 196 176 |
#&gt; 7    0 |  -180 202  11 | -180 202  11 |    63  25   1 |    84  44   3 |
#&gt; 8   17 |  -176  22  19 |  935 618 533 |   595 250 224 |    71   4   3 |
#&gt; 9    2 |  -700 175  91 | -171  10   5 |   264  25  14 | -1309 612 345 |
#&gt; 10   8 | -1160 365 249 |   90   2   2 | -1349 494 353 |  -456  56  42 |
#&gt; 11   0 |  -191 177   5 |   14   1   0 |  -232 261   8 |    78  29   1 |
#&gt; 12  59 |  -100  20   2 |  242 115  14 |  -138  37   5 |  -159  50   6 |
#&gt; 13  68 |    41   1   0 |  474  66  41 |  -905 241 154 |  1280 483 318 |
#&gt; 14 508 |   350 104  72 |  -82   6   4 |  -300  76  55 |     8   0   0 |
#&gt; 
#&gt; Columns:
#&gt;                name   mass  qlt  inr     k=1 cor ctr     k=2 cor ctr     k=3
#&gt; 1    |         when |    2 1000    0 |  -379 501   1 |    73  19   0 |   -99
#&gt; 2    |            i |    5 1000    1 |   106  45   0 |  -162 104   1 |   177
#&gt; 3    |       prsntd |    0 1000    0 |   132  11   0 |    50   2   0 |  -802
#&gt; 4    |          the |   66 1000    0 |   -47 453   1 |    -3   2   0 |   -27
#&gt; 5    |     spplmntr |    0 1000    0 |   947 649   1 |  -222  36   0 |  -352
#&gt; 6    |        budgt |    5 1000    1 |  -206 460   1 |     0   0   0 |   -30
#&gt; 7    |           to |   30 1000    0 |    72 275   1 |    46 114   0 |    59
#&gt; 8    |         this |   10 1000    0 |   -10   3   0 |    73 153   0 |   -54
#&gt; 9    |         hous |    1 1000    1 |   -85   4   0 |   -25   0   0 |    55
#&gt; 10   |         last |    1 1000    0 |   -22   3   0 |    99  68   0 |  -258
#&gt; 11   |        april |    0 1000    0 |  -383  84   0 |   268  41   0 |  -284
#&gt; 12   |              |   28 1000    1 |    50 131   0 |    -2   0   0 |    64
#&gt; 13   |         said |    0 1000    0 |  -616 309   1 |  -367 110   0 |   247
#&gt; 14   |           we |   11 1000    2 |   175 197   2 |   172 189   2 |   276
#&gt; 15   |        could |    1 1000    1 |  -600 600   2 |   190  60   0 |   198
#&gt; 16   |         work |    1 1000    0 |   265 318   0 |   331 496   1 |   154
#&gt; 17   |          our |    5 1000    1 |   488 747   6 |    91  26   0 |   187
#&gt; 18   |          way |    1 1000    0 |    32  18   0 |   101 174   0 |    42
#&gt; 19   |       throgh |    1 1000    2 |   335  64   1 |   301  52   1 |   165
#&gt; 20   |         perd |    0 1000    0 |   268 122   0 |   -42   3   0 |   233
#&gt; 21   |           of |   28 1000    0 |    48 247   0 |   -28  84   0 |   -29
#&gt; 22   |         sevr |    0 1000    0 |  1108 727   1 |  -123   9   0 |   -40
#&gt; 23   |       econmc |    2 1000    0 |   199 426   0 |    14   2   0 |   -65
#&gt; 24   |        dstrs |    0 1000    0 |  1570 796   0 |  -434  61   0 |   -38
#&gt; 25   |              |   44 1000    0 |   -29 253   0 |   -19 111   0 |     3
#&gt; 26   |         tody |    1 1000    0 |   -69   8   0 |  -611 604   2 |   358
#&gt; 27   |          can |    2 1000    0 |    42  13   0 |   153 175   0 |    40
#&gt; 28   |        reprt |    0 1000    0 |   445 143   0 |   162  19   0 |   704
#&gt;      cor ctr     k=4 cor ctr     k=5 cor ctr     k=6 cor ctr     k=7 cor ctr  
#&gt; 1     34   0 |  -286 287   1 |   -92  29   0 |  -148  77   0 |   123  53   0 |
#&gt; 2    123   1 |  -364 521   5 |   -91  33   0 |  -190 142   1 |   -93  34   0 |
#&gt; 3    402   0 |  -104   7   0 |  -866 469   0 |   255  41   0 |   332  69   0 |
#&gt; 4    153   0 |    12  31   0 |   -35 249   1 |    11  25   0 |    21  86   0 |
#&gt; 5     90   0 |   -57   2   0 |  -491 174   0 |   166  20   0 |  -199  29   0 |
#&gt; 6     10   0 |   133 190   1 |    54  32   0 |    69  51   0 |   154 257   1 |
#&gt; 7    183   1 |    44 104   0 |   -55 158   1 |   -27  39   0 |   -49 127   1 |
#&gt; 8     82   0 |    83 195   1 |   -41  48   0 |  -100 287   1 |    90 232   1 |
#&gt; 9      2   0 |  -878 415   5 |   160  14   0 |  -924 459   6 |  -446 107   2 |
#&gt; 10   464   0 |   208 302   0 |   -71  35   0 |   -96  64   0 |    95  63   0 |
#&gt; 11    46   0 |  -103   6   0 |  -997 567   1 |   416  99   0 |   525 157   0 |
#&gt; 12   212   1 |  -103 549   2 |    15  12   0 |    37  72   0 |    22  25   0 |
#&gt; 13    50   0 |  -637 331   1 |    78   5   0 |   392 126   0 |   292  70   0 |
#&gt; 14   490   6 |    29   5   0 |   109  76   1 |   -80  41   1 |   -20   3   0 |
#&gt; 15    65   0 |  -160  42   0 |    33   2   0 |   205  70   0 |  -311 161   1 |
#&gt; 16   107   0 |   -37   6   0 |   -18   1   0 |   -43   9   0 |   118  63   0 |
#&gt; 17   109   1 |    90  26   0 |   104  34   0 |  -122  47   1 |    59  11   0 |
#&gt; 18    31   0 |    14   3   0 |  -198 674   0 |   -43  32   0 |    63  68   0 |
#&gt; 19    16   0 |    -1   0   0 |   384  85   1 |  -628 227   4 |   983 556  10 |
#&gt; 20    92   0 |   -82  12   0 |     2   0   0 |  -272 125   0 |   618 646   1 |
#&gt; 21    95   0 |   -45 223   0 |   -44 210   0 |   -15  24   0 |   -33 117   0 |
#&gt; 22     1   0 |  -159  15   0 |   385  88   0 |   470 131   0 |  -224  30   0 |
#&gt; 23    45   0 |   208 463   1 |   -50  27   0 |    58  36   0 |    -9   1   0 |
#&gt; 24     0   0 |   -79   2   0 |  -340  37   0 |   203  13   0 |  -528  90   0 |
#&gt; 25     3   0 |    18 103   0 |    39 462   1 |    -5   6   0 |   -14  62   0 |
#&gt; 26   207   1 |   330 176   1 |    17   0   0 |    38   2   0 |   -35   2   0 |
#&gt; 27    12   0 |   140 145   0 |   201 301   1 |   -65  32   0 |   208 322   1 |
#&gt; 28   357   1 |   652 306   1 |  -132  13   0 |    46   2   0 |  -472 160   1 |
#&gt;  [ reached getOption("max.print") -- omitted 5112 rows ]</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Kenneth Benoit and Haiyan Wang

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Kenneth Benoit.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
